<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>EntraÃ®nement Souris Complet</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="page-cours">
    <header>
    <nav>
        <ul>
            <li><a href="index.html"><i class="fas fa-arrow-left"></i> Retour</a></li>
            <li><button onclick="toggleModeSombre()" class="btn-dark-toggle" id="theme-icon">ðŸŒ™ Mode Sombre</button></li>
        </ul>
    </nav>
</header>

    <main class="contenu-cours">
        <section class="entete-cours">
            <h1><i class="fas fa-mouse"></i> MaÃ®trise de la Souris (8x8x8)</h1>
            <p id="consigne-exo" class="consigne-majeure" style="color: #e67e22; font-weight: bold;">
                Ã‰tape 1 : Cliquez 8 fois sur la cible ROUGE (Clic Gauche).
            </p>
            <div style="margin-bottom: 10px;">
                <progress id="barre-etape" value="0" max="8" style="width: 100%; height: 20px;"></progress>
            </div>
        </section>

        <div id="exercice-souris" style="width: 100%; max-width: 700px; height: 400px; background: white; border: 3px solid #333; margin: 20px auto; position: relative; border-radius: 10px; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.1);">
            
            <div id="cible-gauche" onclick="gererClic(event, 'gauche')" style="width: 50px; height: 50px; background: red; border: 4px solid white; border-radius: 50%; position: absolute; top: 50%; left: 50%; cursor: pointer; display: block;"></div>
            
            <div id="cible-double" ondblclick="gererClic(event, 'double')" style="width: 60px; height: 60px; background: #3498db; border: 4px solid white; border-radius: 10px; position: absolute; cursor: pointer; display: none; text-align: center; color: white; line-height: 50px;">
                <i class="fas fa-mouse"></i> x2
            </div>

            <div id="cible-droit" oncontextmenu="gererClic(event, 'droit')" style="width: 50px; height: 50px; background: #e67e22; border: 4px solid white; border-radius: 5px; position: absolute; cursor: help; display: none;"></div>
            
        </div>

        <div class="actions-cours" style="text-align: center;">
            <button id="btn-valider-informatique" class="btn-cours" style="background-color: #2980b9; opacity: 0.5; padding: 15px 40px; font-size: 1.2rem;" onclick="validerCours('informatique')" disabled>
                Terminer l'exercice
            </button>
        </div>
    </main>

    <script>
        let scores = { gauche: 0, double: 0, droit: 0 };
        const objectif = 8;
        let modeActuel = 'gauche';

        const consigne = document.getElementById('consigne-exo');
        const barre = document.getElementById('barre-etape');

        function deplacerElement(id) {
            const el = document.getElementById(id);
            const zone = document.getElementById('exercice-souris');
            const maxX = zone.clientWidth - 70;
            const maxY = zone.clientHeight - 70;
            
            el.style.left = Math.floor(Math.random() * maxX) + "px";
            el.style.top = Math.floor(Math.random() * maxY) + "px";
        }

        function gererClic(event, type) {
            if (type === 'droit') event.preventDefault(); // Bloque le vrai menu

            if (type !== modeActuel) return;

            scores[type]++;
            barre.value = scores[type];

            if (scores[type] < objectif) {
                deplacerElement('cible-' + type);
            } else {
                passerEtapeSuivante();
            }
        }

        function passerEtapeSuivante() {
            barre.value = 0;
            if (modeActuel === 'gauche') {
                modeActuel = 'double';
                document.getElementById('cible-gauche').style.display = 'none';
                document.getElementById('cible-double').style.display = 'block';
                deplacerElement('cible-double');
                consigne.innerHTML = "Ã‰tape 2 : <strong>Double-cliquez</strong> 8 fois sur le carrÃ© BLEU.";
                consigne.style.color = "#3498db";
            } else if (modeActuel === 'double') {
                modeActuel = 'droit';
                document.getElementById('cible-double').style.display = 'none';
                document.getElementById('cible-droit').style.display = 'block';
                deplacerElement('cible-droit');
                consigne.innerHTML = "Ã‰tape 3 : Faites un <strong>Clic Droit</strong> 8 fois sur le carrÃ© ORANGE.";
                consigne.style.color = "#e67e22";
            } else {
                // Fin de l'exercice
                document.getElementById('cible-droit').style.display = 'none';
                consigne.innerHTML = "ðŸŽ‰ Excellent ! Vous maÃ®trisez parfaitement la souris !";
                consigne.style.color = "#27ae60";
                const btn = document.getElementById('btn-valider-informatique');
                btn.disabled = false;
                btn.style.opacity = "1";
                btn.style.cursor = "pointer";
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="script.js"></script>
</body>
</html>