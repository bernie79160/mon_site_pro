<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaÃ®triser les FenÃªtres Windows</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Styles spÃ©cifiques Ã  l'exercice des fenÃªtres */
        .bureau-windows {
            width: 100%; max-width: 800px; height: 500px;
            background: url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?auto=format&fit=crop&w=800&q=80') center/cover;
            margin: 20px auto; position: relative; border: 8px solid #333; border-radius: 15px; overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        
        .icone-raccourci {
            width: 90px; text-align: center; color: white; cursor: pointer;
            position: absolute; padding: 10px; transition: background 0.2s; border-radius: 5px;
        }
        .icone-raccourci:hover { background: rgba(255,255,255,0.2); }

        .fenetre {
            position: absolute; width: 320px; height: 240px; background: white;
            border: 1px solid #0078d7; box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            display: none; flex-direction: column; z-index: 100;
        }
        .fenetre-barre {
            background: #f3f3f3; padding: 5px 10px; display: flex; 
            justify-content: space-between; align-items: center; border-bottom: 1px solid #ddd;
            cursor: move; user-select: none;
        }
        .bouton-fermer { color: #555; cursor: pointer; font-weight: bold; padding: 0 8px; font-family: sans-serif;}
        .bouton-fermer:hover { background: #e81123; color: white; }
        
        .contenu-win { flex: 1; display: flex; align-items: center; justify-content: center; font-size: 50px; overflow: hidden; }
        
        .barre-taches {
            position: absolute; bottom: 0; width: 100%; height: 40px; 
            background: rgba(0,0,0,0.85); z-index: 999; border-top: 1px solid rgba(255,255,255,0.1);
        }
    </style>
</head>
<body class="page-cours">

<header>
    <nav>
        <ul>
            <li><a href="index.html"><i class="fas fa-arrow-left"></i> Retour</a></li>
            <li>
                <button onclick="toggleModeSombre()" class="btn-dark-toggle" id="theme-icon">ðŸŒ™ Mode Sombre</button>
            </li>
        </ul>
    </nav>
</header>

<main class="contenu-cours">
    <section class="entete-cours">
        <h1><i class="fas fa-copy"></i> GÃ©rer plusieurs fenÃªtres</h1>
        <p id="consigne-win" class="consigne-majeure">
            Double-cliquez sur les <strong>3 icÃ´nes</strong> pour ouvrir les programmes.
        </p>
    </section>

    <div class="bureau-windows">
        <div class="icone-raccourci icone-bureau" style="top: 20px; left: 20px;" ondblclick="ouvrir('win-internet')">
            <i class="fab fa-edge" style="color: #3498db;"></i><span>Internet</span>
        </div>
        <div class="icone-raccourci icone-bureau" style="top: 130px; left: 20px;" ondblclick="ouvrir('win-photos')">
            <i class="fas fa-images" style="color: #2ecc71;"></i><span>Mes Photos</span>
        </div>
        <div class="icone-raccourci icone-bureau" style="top: 240px; left: 20px;" ondblclick="ouvrir('win-musique')">
            <i class="fas fa-music" style="color: #9b59b6;"></i><span>Ma Musique</span>
        </div>

        <div id="win-internet" class="fenetre" style="top: 40px; left: 180px;" onclick="focusWin(this)">
            <div class="fenetre-barre"><span>Navigateur Internet</span><span class="bouton-fermer" onclick="fermer('win-internet')">âœ•</span></div>
            <div class="contenu-win" style="background: #fff;"><i class="fas fa-globe-europe" style="color: #3498db;"></i></div>
        </div>

        <div id="win-photos" class="fenetre" style="top: 80px; left: 220px;" onclick="focusWin(this)">
            <div class="fenetre-barre"><span>Visionneuse Photos</span><span class="bouton-fermer" onclick="fermer('win-photos')">âœ•</span></div>
            <div class="contenu-win"><img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=300&q=80" style="width:100%; height:100%; object-fit:cover;"></div>
        </div>

        <div id="win-musique" class="fenetre" style="top: 120px; left: 260px;" onclick="focusWin(this)">
            <div class="fenetre-barre"><span>Lecteur Audio</span><span class="bouton-fermer" onclick="fermer('win-musique')">âœ•</span></div>
            <div class="contenu-win" style="background: #1e1e1e; color: #1db954;"><i class="fas fa-play-circle"></i></div>
        </div>

        <div class="barre-taches"></div>
    </div>

    <div style="text-align: center; margin-bottom: 50px;">
        <button id="btn-valider-win" class="btn-cours" onclick="validerCours('windows')" disabled>
            <i class="fas fa-check-circle"></i> Exercice terminÃ© !
        </button>
    </div>
</main>

<footer>
    <p>&copy; 2026 Bernard TELLIER - Tous droits rÃ©servÃ©s.</p>
</footer>

<script>
    let fenetresOuvertes = 0;
    let totalOuvertesEver = new Set(); 
    let zIndexGlobal = 100;

    function ouvrir(id) {
        const win = document.getElementById(id);
        if(win.style.display !== 'flex') {
            win.style.display = 'flex';
            focusWin(win);
            fenetresOuvertes++;
            totalOuvertesEver.add(id);
        }
        majConsigne();
    }

    function fermer(id) {
        const win = document.getElementById(id);
        if(win.style.display === 'flex') {
            win.style.display = 'none';
            fenetresOuvertes--;
        }
        majConsigne();
    }

    function focusWin(el) {
        zIndexGlobal++;
        el.style.zIndex = zIndexGlobal;
    }

    function majConsigne() {
        const c = document.getElementById('consigne-win');
        const btn = document.getElementById('btn-valider-win');
        
        if(totalOuvertesEver.size < 3) {
            c.innerHTML = "Ã‰tape 1 : Ouvrez les <strong>3 raccourcis</strong> par un double-clic.";
        } else if (fenetresOuvertes > 0) {
            c.innerHTML = "Ã‰tape 2 : Bravo ! Maintenant, <strong>fermez les fenÃªtres</strong> (croix en haut Ã  droite).";
            c.style.color = "#e67e22";
        } else {
            c.innerHTML = "ðŸŽ‰ Excellent ! Vous maÃ®trisez l'ouverture et la fermeture.";
            c.style.color = "#27ae60";
            
            // Mise Ã  jour du bouton pour passer Ã  la suite
            btn.disabled = false;
            btn.innerHTML = '<i class="fas fa-arrow-right"></i> Exercice suivant : L\'Explorateur';
            btn.style.backgroundColor = "#27ae60"; // Vert succÃ¨s
            
            // On remplace l'action initiale par la redirection
            btn.onclick = function() {
                // On valide quand mÃªme le cours dans le localStorage avant de partir
                localStorage.setItem('cours-windows', 'done');
                window.location.href = "explorateur.html";
            };
        }
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script src="script.js"></script>
</body>
</html>