<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Explorateur de fichiers - Simulateur</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .win-explorer {
            width: 100%; max-width: 900px; height: 550px;
            background: white; margin: 20px auto;
            display: flex; flex-direction: column;
            border: 1px solid #aaa; border-radius: 5px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.25);
            overflow: hidden; font-family: 'Segoe UI', sans-serif;
        }

        .explorer-header { background: #f5f6f7; border-bottom: 1px solid #dadbdc; padding: 10px; }
        .explorer-toolbar { display: flex; gap: 15px; margin-top: 5px; }
        
        .tool-btn { 
            display: flex; flex-direction: column; align-items: center; 
            font-size: 11px; color: #333; cursor: pointer; border: 1px solid transparent;
            padding: 5px; border-radius: 3px; min-width: 80px;
        }
        .tool-btn:hover { background: #e5f3ff; border-color: #cce8ff; }
        .tool-btn i { font-size: 20px; color: #0078d7; margin-bottom: 3px; }

        .explorer-address-bar { 
            display: flex; align-items: center; padding: 5px; 
            background: white; border-bottom: 1px solid #ddd; gap: 10px;
        }
        .address-box { 
            flex: 1; border: 1px solid #ccc; padding: 4px 10px; 
            font-size: 13px; color: #555; display: flex; align-items: center; gap: 8px; min-height: 20px;
        }

        .explorer-body { display: flex; flex: 1; overflow: hidden; }

        .explorer-sidebar { 
            width: 220px; background: #f0f0f0; border-right: 1px solid #e5e5e5; 
            padding: 10px; font-size: 13px; overflow-y: auto; user-select: none;
        }
        .sidebar-item { padding: 6px 8px; cursor: pointer; display: flex; align-items: center; gap: 10px; border-radius: 3px; }
        .sidebar-item:hover { background: #e5e5e5; }
        .sidebar-item.active { background: #0078d7 !important; color: white !important; font-weight: 500; }
        .sidebar-item i { width: 16px; text-align: center; }
        .sidebar-title { font-size: 11px; font-weight: bold; color: #666; margin: 15px 0 5px 8px; text-transform: uppercase; }

        .explorer-content { flex: 1; background: white; padding: 20px; display: flex; flex-wrap: wrap; gap: 20px; align-content: flex-start; overflow-y: auto; }

        .folder-item {
            display: flex; flex-direction: column; align-items: center; width: 95px;
            padding: 5px; text-align: center;
        }
        .folder-item i { font-size: 45px; color: #f1c40f; margin-bottom: 5px; }
        .folder-item span { font-size: 12px; color: #333; word-break: break-all; }
        
        /* Input pour simuler le renommage */
        .folder-input { width: 80px; font-size: 11px; text-align: center; border: 1px solid #0078d7; outline: none; }

        .new-anim { animation: folderPop 0.3s ease; }
        @keyframes folderPop { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body class="page-cours">

<header>
    <nav>
        <ul>
            <li><a href="index.html"><i class="fas fa-arrow-left"></i> Retour</a></li>
            <li><button onclick="toggleModeSombre()" class="btn-dark-toggle" id="theme-icon">üåô Mode Sombre</button></li>
        </ul>
    </nav>
</header>

<main class="contenu-cours">
    <section class="entete-cours">
        <h1><i class="fas fa-search"></i> Naviguer et Cr√©er</h1>
        <div id="consigne-box" style="background: #ebf5fb; padding: 15px; border-radius: 8px; border-left: 5px solid #3498db; margin-bottom: 20px;">
            <p id="consigne-explorateur" class="consigne-majeure" style="margin:0; font-weight: bold;">
                √âtape 1 : Cliquez sur "Documents" dans la colonne de gauche.
            </p>
        </div>
    </section>

    <div class="win-explorer">
        <div class="explorer-header">
            <div class="explorer-toolbar">
                <div class="tool-btn" id="btn-nouveau" onclick="preparerDossier()" style="opacity: 0.5; cursor: default;">
                    <i class="fas fa-folder-plus"></i>
                    <span>Nouveau dossier</span>
                </div>
            </div>
        </div>

        <div class="explorer-address-bar">
            <div class="address-box">
                <i class="fas fa-desktop"></i>
                <span id="adresse-actuelle">Ce PC</span>
            </div>
        </div>

        <div class="explorer-body">
            <div class="explorer-sidebar">
                <div class="sidebar-title">Ce PC</div>
                <div class="sidebar-item" onclick="changerDossier('Documents', this)"><i class="fas fa-file-alt"></i> Documents</div>
                <div class="sidebar-item" onclick="changerDossier('Images', this)"><i class="fas fa-images"></i> Images</div>
                <div class="sidebar-item" onclick="changerDossier('Musique', this)"><i class="fas fa-music"></i> Musique</div>
                <div class="sidebar-item" onclick="changerDossier('Vid√©os', this)"><i class="fas fa-video"></i> Vid√©os</div>
            </div>

            <div id="zone-fichiers" class="explorer-content">
                <p style="color: #999; font-style: italic; margin: auto;">S√©lectionnez un dossier √† gauche pour commencer.</p>
            </div>
        </div>
    </div>

    <div style="text-align: center; margin-bottom: 50px;">
        <button id="btn-valider-explorateur" class="btn-cours" onclick="validerCours('explorateur')" disabled>
            <i class="fas fa-check-circle"></i> Terminer le module
        </button>
    </div>
</main>

<footer>
    <p>&copy; 2026 Bernard TELLIER - Tous droits r√©serv√©s.</p>
</footer>

<script>
    let dossierActuel = null;
    let objectifs = {
        "Documents": { nom: "Mes courriers", fait: false },
        "Images": { nom: "Photos de vacances", fait: false },
        "Musique": { nom: "Mes Albums", fait: false },
        "Vid√©os": { nom: "Souvenirs", fait: false }
    };

    function changerDossier(nom, element) {
        dossierActuel = nom;
        document.getElementById('adresse-actuelle').innerHTML = `Ce PC <i class="fas fa-chevron-right" style="font-size:10px; margin:0 5px;"></i> ${nom}`;
        
        document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
        element.classList.add('active');

        const btnNouveau = document.getElementById('btn-nouveau');
        btnNouveau.style.opacity = "1";
        btnNouveau.style.cursor = "pointer";

        const zone = document.getElementById('zone-fichiers');
        zone.innerHTML = ""; 
        
        majConsigne();
    }

    function preparerDossier() {
        if (!dossierActuel) return;

        const zone = document.getElementById('zone-fichiers');
        
        // On cr√©e l'√©l√©ment visuel avec un input
        const div = document.createElement('div');
        div.className = 'folder-item new-anim';
        div.innerHTML = `
            <i class="fas fa-folder"></i>
            <input type="text" class="folder-input" id="input-nom" placeholder="Nommez-moi...">
        `;
        zone.appendChild(div);

        const input = document.getElementById('input-nom');
        input.focus();

        // Ecouter la touche Entr√©e
        input.addEventListener('keyup', function(e) {
            if (e.key === 'Enter') {
                validerNomDossier(input.value, div);
            }
        });
    }

    function validerNomDossier(nom, div) {
        if (!nom.trim()) {
            div.remove();
            return;
        }

        div.innerHTML = `<i class="fas fa-folder"></i><span>${nom}</span>`;

        let obj = objectifs[dossierActuel];
        if (nom.toLowerCase().trim() === obj.nom.toLowerCase()) {
            obj.fait = true;
            if (typeof confetti === 'function') confetti();
        }
        
        majConsigne();
    }

    function majConsigne() {
        const c = document.getElementById('consigne-explorateur');
        const btn = document.getElementById('btn-valider-explorateur');

        if (!dossierActuel) {
            c.innerHTML = "√âtape 1 : Cliquez sur <strong>Documents</strong> dans la colonne de gauche.";
        } else if (!objectifs["Documents"].fait) {
            c.innerHTML = "Dans Documents, cr√©ez le dossier : <strong>Mes courriers</strong> (Validez avec la touche Entr√©e)";
        } else if (!objectifs["Images"].fait) {
            c.innerHTML = "√âtape 2 : Allez dans <strong>Images</strong> et cr√©ez : <strong>Photos de vacances</strong>";
        } else if (!objectifs["Musique"].fait) {
            c.innerHTML = "√âtape 3 : Allez dans <strong>Musique</strong> et cr√©ez : <strong>Mes Albums</strong>";
        } else if (!objectifs["Vid√©os"].fait) {
            c.innerHTML = "√âtape 4 : Allez dans <strong>Vid√©os</strong> et cr√©ez : <strong>Souvenirs</strong>";
        } else {
            c.innerHTML = "üéâ Excellent ! L'arborescence n'a plus de secret pour vous.";
            document.getElementById('consigne-box').style.borderColor = "#27ae60";
            btn.disabled = false;
        }
    }

    majConsigne();
</script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script src="script.js"></script>
</body>
</html>